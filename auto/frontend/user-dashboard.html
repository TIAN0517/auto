<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”¨æˆ¶ä¸­å¿ƒ - Jyè‡ªå‹•è´ŠåŠ©ç³»çµ±</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/payment.css">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#0a0a0a">
    <meta name="description" content="å€‹äººç”¨æˆ¶ä¸­å¿ƒ - 4Dç§‘æŠ€é¢¨æ ¼ç•Œé¢">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
    .profile-card, .balance-card, .quick-action-card, .transactions-list, .transaction-item {
      background: rgba(20, 20, 40, 0.55);
      box-shadow: 0 8px 32px 0 rgba(0, 212, 255, 0.15), 0 1.5px 8px 0 rgba(124, 58, 237, 0.08);
      backdrop-filter: blur(16px) saturate(180%);
      border-radius: 20px;
      border: none;
    }
    .profile-card, .balance-card {
      border: none;
    }
    .profile-name, .section-title, .gradient-text {
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-fill-color: transparent;
      filter: drop-shadow(0 0 8px var(--primary-color));
    }
    .btn-primary, .btn-secondary {
      box-shadow: 0 0 16px 4px var(--primary-color), 0 0 32px 8px var(--accent-color);
      background: var(--gradient-primary);
      color: #fff;
      border: none;
      border-radius: 9999px;
      transition: box-shadow 0.3s, transform 0.2s;
      position: relative;
      overflow: hidden;
    }
    .btn-primary:hover, .btn-secondary:hover {
      box-shadow: 0 0 32px 8px var(--primary-color), 0 0 64px 16px var(--accent-color);
      transform: scale(1.05);
    }
    </style>
</head>
<body>
    <!-- è¼‰å…¥ç•«é¢ -->
    <div id="loading-screen">
        <div class="loading-container">
            <div class="loading-spinner"></div>
            <div class="loading-text">ç”¨æˆ¶ä¸­å¿ƒè¼‰å…¥ä¸­...</div>
            <div class="loading-progress">
                <div class="progress-bar"></div>
            </div>
        </div>
        <div class="loading-particles"></div>
    </div>

    <!-- å°èˆªæ¬„ -->
    <header class="navbar">
        <nav class="nav-container">
            <div class="logo">
                <span class="logo-icon">âš¡</span>
                <span class="logo-text">Jyè‡ªå‹•è´ŠåŠ©</span>
                <span class="logo-version">v3.0</span>
            </div>
            <ul class="nav-links">
                <li><a href="index.html" class="nav-link">é¦–é </a></li>
                <li><a href="sponsor.html" class="nav-link">è´ŠåŠ©</a></li>
                <li><a href="user-dashboard.html" class="nav-link active">ç”¨æˆ¶ä¸­å¿ƒ</a></li>
                <li><a href="#support" class="nav-link">å®¢æœæ”¯æ´</a></li>
            </ul>
            <div class="nav-actions">
                <div class="theme-toggle" id="themeToggle">
                    <span class="theme-icon">ğŸŒ™</span>
                </div>
                <div class="notification-bell" id="notificationBell">
                    <span class="bell-icon">ğŸ””</span>
                    <span class="notification-count">3</span>
                </div>
                <div class="user-menu">
                    <div class="user-avatar" id="userAvatar">
                        <span class="avatar-text">JY</span>
                    </div>
                    <div class="user-dropdown" id="userDropdown">
                        <a href="user-dashboard.html" class="dropdown-item active">ç”¨æˆ¶ä¸­å¿ƒ</a>
                        <a href="#settings" class="dropdown-item">è¨­ç½®</a>
                        <a href="#logout" class="dropdown-item">ç™»å‡º</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- ä¸»è¦å…§å®¹ -->
    <main class="dashboard-main">
        <!-- ç”¨æˆ¶è³‡è¨Šå¡ç‰‡ -->
        <section class="user-profile-section">
            <div class="profile-card">
                <div class="profile-header">
                    <div class="profile-avatar">
                        <div class="avatar-container">
                            <span class="avatar-text">JY</span>
                            <div class="avatar-status online"></div>
                        </div>
                    </div>
                    <div class="profile-info">
                        <h2 class="profile-name" id="userName">Jyç”¨æˆ¶</h2>
                        <p class="profile-email" id="userEmail">user@example.com</p>
                        <div class="profile-badges">
                            <span class="badge vip">VIPæœƒå“¡</span>
                            <span class="badge verified">å·²é©—è­‰</span>
                        </div>
                    </div>
                    <div class="profile-actions">
                        <button class="btn-secondary" id="editProfile">ç·¨è¼¯è³‡æ–™</button>
                        <button class="btn-primary" id="upgradeVip">å‡ç´šVIP</button>
                    </div>
                </div>
                
                <div class="profile-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="totalSpent">NT$ 12,580</div>
                        <div class="stat-label">ç¸½æ¶ˆè²»é‡‘é¡</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalOrders">28</div>
                        <div class="stat-label">ç¸½è¨‚å–®æ•¸</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="memberSince">365</div>
                        <div class="stat-label">æœƒå“¡å¤©æ•¸</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="loyaltyPoints">2,580</div>
                        <div class="stat-label">å¿ èª ç©åˆ†</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- å¿«é€Ÿæ“ä½œ -->
        <section class="quick-actions-section">
            <h3 class="section-title">å¿«é€Ÿæ“ä½œ</h3>
            <div class="quick-actions-grid">
                <a href="sponsor.html" class="quick-action-card">
                    <div class="action-icon">ğŸ’</div>
                    <div class="action-content">
                        <h4 class="action-title">ç«‹å³è´ŠåŠ©</h4>
                        <p class="action-desc">é¸æ“‡è´ŠåŠ©å¥—é¤</p>
                    </div>
                    <div class="action-arrow">â†’</div>
                </a>
                
                <a href="#recharge" class="quick-action-card">
                    <div class="action-icon">ğŸ’°</div>
                    <div class="action-content">
                        <h4 class="action-title">é¤˜é¡å……å€¼</h4>
                        <p class="action-desc">å¢åŠ å¸³æˆ¶é¤˜é¡</p>
                    </div>
                    <div class="action-arrow">â†’</div>
                </a>
                
                <a href="#history" class="quick-action-card">
                    <div class="action-icon">ğŸ“‹</div>
                    <div class="action-content">
                        <h4 class="action-title">äº¤æ˜“è¨˜éŒ„</h4>
                        <p class="action-desc">æŸ¥çœ‹æ­·å²è¨‚å–®</p>
                    </div>
                    <div class="action-arrow">â†’</div>
                </a>
                
                <a href="#support" class="quick-action-card">
                    <div class="action-icon">ğŸ§</div>
                    <div class="action-content">
                        <h4 class="action-title">å®¢æœæ”¯æ´</h4>
                        <p class="action-desc">è¯ç¹«å®¢æœåœ˜éšŠ</p>
                    </div>
                    <div class="action-arrow">â†’</div>
                </a>
            </div>
        </section>

        <!-- å¸³æˆ¶é¤˜é¡ -->
        <section class="balance-section">
            <div class="balance-card">
                <div class="balance-header">
                    <h3 class="balance-title">å¸³æˆ¶é¤˜é¡</h3>
                    <div class="balance-actions">
                        <button class="btn-outline" id="withdrawBtn">æç¾</button>
                        <button class="btn-primary" id="rechargeBtn">å……å€¼</button>
                    </div>
                </div>
                <div class="balance-content">
                    <div class="balance-amount">
                        <span class="currency">NT$</span>
                        <span class="amount" id="accountBalance">1,250</span>
                    </div>
                    <div class="balance-trend">
                        <span class="trend-icon up">â†—</span>
                        <span class="trend-text">æœ¬æœˆå¢é•· +15.2%</span>
                    </div>
                </div>
                <div class="balance-chart">
                    <canvas id="balanceChart"></canvas>
                </div>
            </div>
        </section>

        <!-- æœ€è¿‘äº¤æ˜“ -->
        <section class="recent-transactions-section">
            <div class="section-header">
                <h3 class="section-title">æœ€è¿‘äº¤æ˜“</h3>
                <a href="#all-transactions" class="view-all-link">æŸ¥çœ‹å…¨éƒ¨</a>
            </div>
            <div class="transactions-list">
                <div class="transaction-item">
                    <div class="transaction-icon success">âœ“</div>
                    <div class="transaction-info">
                        <h4 class="transaction-title">VIPå¥—é¤è³¼è²·</h4>
                        <p class="transaction-desc">2024-01-15 14:30</p>
                    </div>
                    <div class="transaction-amount success">-NT$ 999</div>
                    <div class="transaction-status success">æˆåŠŸ</div>
                </div>
                
                <div class="transaction-item">
                    <div class="transaction-icon success">âœ“</div>
                    <div class="transaction-info">
                        <h4 class="transaction-title">å¸³æˆ¶å……å€¼</h4>
                        <p class="transaction-desc">2024-01-14 09:15</p>
                    </div>
                    <div class="transaction-amount success">+NT$ 2,000</div>
                    <div class="transaction-status success">æˆåŠŸ</div>
                </div>
                
                <div class="transaction-item">
                    <div class="transaction-icon pending">â³</div>
                    <div class="transaction-info">
                        <h4 class="transaction-title">é€²éšå¥—é¤è³¼è²·</h4>
                        <p class="transaction-desc">2024-01-13 16:45</p>
                    </div>
                    <div class="transaction-amount pending">-NT$ 499</div>
                    <div class="transaction-status pending">è™•ç†ä¸­</div>
                </div>
                
                <div class="transaction-item">
                    <div class="transaction-icon success">âœ“</div>
                    <div class="transaction-info">
                        <h4 class="transaction-title">åŸºç¤å¥—é¤è³¼è²·</h4>
                        <p class="transaction-desc">2024-01-12 11:20</p>
                    </div>
                    <div class="transaction-amount success">-NT$ 199</div>
                    <div class="transaction-status success">æˆåŠŸ</div>
                </div>
            </div>
        </section>

        <!-- VIPç‰¹æ¬Š -->
        <section class="vip-privileges-section">
            <div class="vip-card">
                <div class="vip-header">
                    <div class="vip-icon">ğŸ‘‘</div>
                    <div class="vip-info">
                        <h3 class="vip-title">VIPæœƒå“¡ç‰¹æ¬Š</h3>
                        <p class="vip-desc">äº«å—å°ˆå±¬å„ªæƒ èˆ‡æœå‹™</p>
                    </div>
                    <div class="vip-level">
                        <span class="level-badge">VIP 3</span>
                    </div>
                </div>
                
                <div class="vip-progress">
                    <div class="progress-info">
                        <span class="progress-label">å‡ç´šé€²åº¦</span>
                        <span class="progress-value">2,580 / 5,000 ç©åˆ†</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 51.6%"></div>
                    </div>
                </div>
                
                <div class="vip-benefits">
                    <div class="benefit-item">
                        <span class="benefit-icon">ğŸ</span>
                        <span class="benefit-text">å°ˆå±¬ç¦®å“</span>
                    </div>
                    <div class="benefit-item">
                        <span class="benefit-icon">âš¡</span>
                        <span class="benefit-text">å„ªå…ˆè™•ç†</span>
                    </div>
                    <div class="benefit-item">
                        <span class="benefit-icon">ğŸ’°</span>
                        <span class="benefit-text">é¡å¤–æŠ˜æ‰£</span>
                    </div>
                    <div class="benefit-item">
                        <span class="benefit-icon">ğŸ§</span>
                        <span class="benefit-text">å°ˆå±¬å®¢æœ</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- å®‰å…¨è¨­ç½® -->
        <section class="security-section">
            <h3 class="section-title">å®‰å…¨è¨­ç½®</h3>
            <div class="security-grid">
                <div class="security-item">
                    <div class="security-icon">ğŸ”’</div>
                    <div class="security-info">
                        <h4 class="security-title">å¯†ç¢¼å®‰å…¨</h4>
                        <p class="security-desc">ä¸Šæ¬¡æ›´æ–°ï¼š30å¤©å‰</p>
                    </div>
                    <button class="btn-outline" id="changePassword">ä¿®æ”¹å¯†ç¢¼</button>
                </div>
                
                <div class="security-item">
                    <div class="security-icon">ğŸ“±</div>
                    <div class="security-info">
                        <h4 class="security-title">é›™é‡é©—è­‰</h4>
                        <p class="security-desc">å·²å•Ÿç”¨</p>
                    </div>
                    <button class="btn-outline" id="manage2FA">ç®¡ç†</button>
                </div>
                
                <div class="security-item">
                    <div class="security-icon">ğŸ””</div>
                    <div class="security-info">
                        <h4 class="security-title">ç™»å…¥é€šçŸ¥</h4>
                        <p class="security-desc">å·²å•Ÿç”¨</p>
                    </div>
                    <button class="btn-outline" id="manageNotifications">è¨­ç½®</button>
                </div>
            </div>
        </section>
    </main>

    <!-- å……å€¼æ¨¡æ…‹æ¡† -->
    <div id="rechargeModal" class="modal">
        <div class="modal-content recharge-modal">
            <div class="modal-header">
                <h3 class="modal-title">å¸³æˆ¶å……å€¼</h3>
                <button class="modal-close" id="closeRechargeModal">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="recharge-form">
                    <div class="amount-selection">
                        <h4 class="form-section-title">é¸æ“‡å……å€¼é‡‘é¡</h4>
                        <div class="amount-grid">
                            <button class="amount-btn" data-amount="500">NT$ 500</button>
                            <button class="amount-btn" data-amount="1000">NT$ 1,000</button>
                            <button class="amount-btn" data-amount="2000">NT$ 2,000</button>
                            <button class="amount-btn" data-amount="5000">NT$ 5,000</button>
                        </div>
                        <div class="custom-amount">
                            <input type="number" class="amount-input" placeholder="è‡ªå®šç¾©é‡‘é¡" id="customAmount">
                        </div>
                    </div>
                    
                    <div class="payment-method-selection">
                        <h4 class="form-section-title">é¸æ“‡æ”¯ä»˜æ–¹å¼</h4>
                        <div class="payment-methods">
                            <label class="payment-method">
                                <input type="radio" name="rechargeMethod" value="speedpay" checked>
                                <div class="method-card">
                                    <img src="assets/payment-logos/speedpay.png" alt="é€Ÿè²·é…" class="method-logo">
                                    <span class="method-name">é€Ÿè²·é…</span>
                                    <span class="method-badge recommended">æ¨è–¦</span>
                                </div>
                            </label>
                            
                            <label class="payment-method">
                                <input type="radio" name="rechargeMethod" value="ecpay">
                                <div class="method-card">
                                    <img src="assets/payment-logos/ecpay.png" alt="ç¶ ç•Œç§‘æŠ€" class="method-logo">
                                    <span class="method-name">ç¶ ç•Œç§‘æŠ€</span>
                                </div>
                            </label>
                            
                            <label class="payment-method">
                                <input type="radio" name="rechargeMethod" value="newebpay">
                                <div class="method-card">
                                    <img src="assets/payment-logos/newebpay.png" alt="è—æ–°é‡‘æµ" class="method-logo">
                                    <span class="method-name">è—æ–°é‡‘æµ</span>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="cancelRecharge">å–æ¶ˆ</button>
                <button class="btn-primary" id="confirmRecharge">ç¢ºèªå……å€¼</button>
            </div>
        </div>
    </div>

    <!-- ç·¨è¼¯è³‡æ–™æ¨¡æ…‹æ¡† -->
    <div id="editProfileModal" class="modal">
        <div class="modal-content profile-modal">
            <div class="modal-header">
                <h3 class="modal-title">ç·¨è¼¯å€‹äººè³‡æ–™</h3>
                <button class="modal-close" id="closeProfileModal">Ã—</button>
            </div>
            <div class="modal-body">
                <form class="profile-form" id="profileForm">
                    <div class="form-group">
                        <label class="form-label">ç”¨æˆ¶åç¨±</label>
                        <input type="text" class="form-input" id="editUserName" value="Jyç”¨æˆ¶">
                    </div>
                    <div class="form-group">
                        <label class="form-label">é›»å­éƒµä»¶</label>
                        <input type="email" class="form-input" id="editUserEmail" value="user@example.com">
                    </div>
                    <div class="form-group">
                        <label class="form-label">æ‰‹æ©Ÿè™Ÿç¢¼</label>
                        <input type="tel" class="form-input" id="editUserPhone" placeholder="+886 912345678">
                    </div>
                    <div class="form-group">
                        <label class="form-label">å€‹äººç°¡ä»‹</label>
                        <textarea class="form-textarea" id="editUserBio" placeholder="ä»‹ç´¹ä¸€ä¸‹è‡ªå·±..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="cancelEdit">å–æ¶ˆ</button>
                <button class="btn-primary" id="saveProfile">ä¿å­˜æ›´æ”¹</button>
            </div>
        </div>
    </div>

    <!-- èƒŒæ™¯æ•ˆæœ -->
    <div class="background-effects">
        <div class="particle-field"></div>
        <div class="grid-overlay"></div>
        <div class="energy-waves"></div>
    </div>

    <!-- JavaScript -->
    <script src="js/main.js"></script>
    <script src="js/payment.js"></script>
    <script src="js/websocket.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</body>
</html>